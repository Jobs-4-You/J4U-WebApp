<html>
<head>
    <meta charset="utf-8">
    <title>Update</title>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
        function GetURLParameter(sParam){
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');
            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] == sParam) {
                    return sParameterName[1];
                }
            }
        }
        var civilite = GetURLParameter("civilite");
        var firstName = GetURLParameter('firstName');
        var lastName = GetURLParameter('lastName');
        var jobTitle = GetURLParameter('jobTitle');
        var birthDate = GetURLParameter('birthDate');

        const markup = `
            <h1><strong>Attestation</strong></h1>
            <p>
                ${civilite}. ${firstName} ${lastName},
                né${civilite == "M" ? "" : "e"} ${birthDate}, 
                participe à une étude scientifique mené par les Universités de Genève et Lausanne et vise à améliorer l’adéquation entre les compétences des chercheurs d’emploi celles exigés pour les postes vacantes.        
            </p>
            <p>
                Dans le cadre de cette étude, les compétences de ${civilite}. ${lastName} ont été mesurés à travers d'une méthodologie scientifiquement validée. Ensuite son profil de compétences a été comparé avec les compétences demandées par toutes les presque mille professions présentes dans le marché du travail suisse. Un nouvel algorithme a ensuite découvert les professions dont le profil de compétences est le plus proche de celui de ${civilite}. ${lastName}. Votre poste de ${jobTitle} se trouve parmi les postes les mieux adaptés au profil de ${civilite}. ${lastName}.
            </p>
            <p>
                Cette procédure est
                nouvelle en Suisse et elle est scientifiquement fondée dans des recherches sur la recherche
                d’emploi.
            </p>
            <p>
                Lausanne,
                ${new Date().toLocaleDateString("fr-CH")}
                <br>
                J4U@unil.ch
            </p>
        `;
        window.onload = function() {
            console.log(markup);
            document.getElementById("certificateOutput").innerHTML = markup;
        };
    </script>
    <style type="text/css">

    </style>
</head>

<body>
    <div id="certificateOutput">
    </div>

</body>

</html>